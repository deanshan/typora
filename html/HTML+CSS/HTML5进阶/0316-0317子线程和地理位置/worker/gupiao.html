<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		body {
			width: 100%;
			height: 100%;
			clear: both;
		}
		div {
			margin-left: 20px;
			width: 45%;
			height: 300px;
			float: left;
		}
	</style>
	<script type="text/javascript" src="js/echarts.js"></script>
</head>
<body>
	<div id="myChart1"></div>
	<div id="myChart2"></div>	
	<div id="myChart3"></div>
	<div id="myChart4"></div>
</body>
</html>

<script type="text/javascript" src="js/east.js"></script>
<script type="text/javascript" src="js/west.js"></script>
<script type="text/javascript" src="js/south.js"></script>
<script type="text/javascript" src="js/north.js"></script>

<script type="text/javascript">
	window.onload = function () {
		var arr1=[],date1=[],
			arr2=[],date2=[],
			arr3=[],date3=[],
			arr4=[],date4=[];
		var workers = new Worker('js/gupiao1.js');
		workers.onmessage = function (res){
			arr1[res.data[1]] = res.data[0];
			date1[res.data[1]] = res.data[2];
			east(arr1,date1,res.data[3]);
			console.log(res.data);
			
		}
		workers.onerror = function (res) {
			console.log(res);
		}

		var workers = new Worker('js/gupiao2.js');
		workers.onmessage = function (res){
			arr2[res.data[1]] = res.data[0];
			date2[res.data[1]] = res.data[2];
			west(arr2,date2,res.data[3]);
			console.log(res.data);
			
		}
		workers.onerror = function (res) {
			console.log(res);
		}

		var workers = new Worker('js/gupiao3.js');
		workers.onmessage = function (res){
			arr3[res.data[1]] = res.data[0];
			date3[res.data[1]] = res.data[2];
			south(arr3,date3,res.data[3]);
			console.log(res.data);
			
		}
		workers.onerror = function (res) {
			console.log(res);
		}

		var workers = new Worker('js/gupiao4.js');
		workers.onmessage = function (res){
			arr4[res.data[1]] = res.data[0];
			date4[res.data[1]] = res.data[2];
			north(arr4,date4,res.data[3]);
			console.log(res.data);
			
		}
		workers.onerror = function (res) {
			console.log(res);
		}
	}
	
</script>